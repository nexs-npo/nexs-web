# nexs-web プロジェクト全体像

**最終更新日:** 2026/01/30
**バージョン:** Draft 1.0

本ドキュメントは、nexs (次世代社会デザイン研究機構) のWebプラットフォーム `nexs-web` の全体像、目的、および主要機能についてまとめたものである。

## 1. プロジェクトの目的 (Mission)

**「NPO 4.0 Governance」の実装と実証実験**

従来のNPO/組織運営における不透明性や非効率性を解消し、透明性が高く、かつ意思決定プロセスそのものが価値となるような新しいガバナンスモデル（NPO 4.0）を構築するためのプラットフォーム。

### 核心的価値 (Core Values)
1.  **Safety & Trust (Zero PII):** 個人情報を持たないことによる究極の安全設計。
2.  **Open Source:** コードもプロセスも全て公開し、社会公共財とする。
3.  **Mobile First:** 現代の利用実態に即した、スマートフォン中心のUI/UX。

## 2. アーキテクチャ概要

「ロマン（自宅サーバー）」と「実利（クラウド）」を組み合わせたハイブリッド構成。

| レイヤー | 技術スタック | 役割 |
| :--- | :--- | :--- |
| **Frontend** | Astro + React | 高速な静的サイト生成(SSG)と動的UIの融合 |
| **Hosting** | Cloudflare Pages | グローバルCDNによる高速配信 |
| **CMS** | Keystatic | Gitベースのコンテンツ管理（議案、記事） |
| **Database** | Supabase (Self-Hosted) | 議論、ログ、動的データの保存 |
| **Auth** | Clerk | 認証とPII（個人情報）の隔離管理 |
| **Network** | Cloudflare Tunnel | 自宅サーバーの安全な公開 |

## 3. 主要機能 (Features)

### A. Governance (意思決定) - **Core Feature**
組織の意思決定プロセスをGitベースで管理・公開する機能。

*   **Resolutions (議案):**
    *   意思決定の履歴をコミットログとして記録。改ざん不可能かつ透明な履歴を保証。
    *   ステータス管理（審議中、可決、否決）と承認フローの実装。
*   **Drafts (補助資料) - [Planned]:**
    *   定款や規則のドラフトをMarkdownで管理。
    *   Resolutionから参照可能とし、条文の変更履歴（Diff）を明確化する。
*   **Living Handbook - [Future]:**
    *   Draftsを経て可決された「現在のルール」を集約する場所。

### B. Research (研究・実証)
社会実験のプロセスと結果を共有する機能。

*   **Projects (プロジェクト):**
    *   実験プロジェクトの概要、ステータス、テーマカラー管理。
*   **Hypotheses (仮説検証):**
    *   プロジェクトごとの検証項目と進捗（データ収集中、分析中など）の可視化。
*   **Knowledge (ナレッジ):**
    *   研究成果、論文、プロトコル等の記事コンテンツ。

### C. Communication (対話)
*   **Discussions (議論):**
    *   プロジェクトや議案に対するスレッド形式のコメント機能。
    *   Supabaseに保存されるが、個人情報はClerk側に分離され、匿名性・安全性が担保される。
*   **Signals (シグナル):**
    *   関連ニュースの収集や、実験ログのタイムライン表示。

## 4. データ・コンテンツ構造

### Git管理 (Keystatic)
以下の「静的・半静的」なコンテンツはGitリポジトリ内で管理される。
*   議案 (Resolutions)
*   補助資料 (Drafts)
*   ナレッジ記事 (Knowledge)
*   サイト設定

### DB管理 (Supabase)
以下の「動的」なデータはデータベースで管理される。
*   ユーザープロファイル（ロール情報のみ）
*   プロジェクト進捗・ステータス
*   コメント・議論ログ
*   「いいね」等のインタラクション

## 5. 現在のフェーズと次のステップ

### 現在の状態
*   基盤となるアーキテクチャ（Astro, Clerk, Supabase）の構築完了。
*   Resolutions（議案）の基本機能の実装完了。
*   UI/UXデザイン（Mobile First）の適用。

### Next Steps
1.  **Drafts機能の実装:** 議案に紐づくテキストベースの資料管理機能の追加。
2.  **Living Handbookの設計:** 可決されたルールを閲覧しやすくするビューの作成。
3.  **Governanceプロセスの洗練:** 実際のNPO運営におけるワークフローへの適合。

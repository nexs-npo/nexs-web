---
import { CheckCircle2 } from 'lucide-react';

interface Approval {
  name: string;
  date: string | null;
}

interface Props {
  approvals: Approval[];
}

const { approvals } = Astro.props;

function formatDate(dateStr: string | null): string {
  if (!dateStr) return '';
  const date = new Date(dateStr);
  const m = String(date.getMonth() + 1).padStart(2, '0');
  const d = String(date.getDate()).padStart(2, '0');
  const h = String(date.getHours()).padStart(2, '0');
  const min = String(date.getMinutes()).padStart(2, '0');
  return `${m}.${d} ${h}:${min}`;
}
---

{approvals && approvals.length > 0 ? (
  <div class="space-y-3">
    {approvals.map((approval) => (
      <div class="flex items-center justify-between text-xs">
        <div class="flex items-center gap-2">
          <CheckCircle2 className="w-4 h-4 text-green-500" />
          <span class="font-bold text-gray-900">{approval.name}</span>
        </div>
        <span class="font-mono text-gray-400 text-[10px]">{formatDate(approval.date)}</span>
      </div>
    ))}
  </div>
) : (
  <p class="text-xs text-gray-400">まだ署名がありません</p>
)}

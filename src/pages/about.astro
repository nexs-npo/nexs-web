---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Header from '@/components/Header';
import BottomNav from '@/components/BottomNav';
import { Icons } from '@/components/Icons';
---

<BaseLayout title="About - nexs">
  <div class="min-h-screen bg-white flex flex-col">
    <Header
      title="nexs"
      subtitle="次世代社会デザイン研究機構（nexs）の団体情報"
      showSearch={false}
      client:load
    />

    <main class="flex-1 pt-24 pb-32 px-5 max-w-md mx-auto w-full animate-fade-in-up">
      <section class="mb-6">
        <p class="font-mono text-xs text-gray-400 uppercase tracking-widest mb-3">
          Organization
        </p>
        <h1 class="text-3xl font-bold leading-tight mb-3 text-gray-900">次の解へ</h1>
        <p class="text-sm text-gray-600 leading-relaxed">
          社会課題に対して仮説を立て、実装し、還元する。nexsはその循環を公開し続ける実験場です。
        </p>
      </section>

      <section class="mb-8">
        <div class="bg-white border border-gray-100 rounded-2xl p-4 overflow-hidden">
          <div class="cycle-flow">
            <div class="flex flex-col items-center flex-1 min-w-0">
              <div class="cycle-card group">
                <div class="cycle-icon">?</div>
                <h3 class="text-lg font-bold mb-1 leading-none">仮説</h3>
                <p class="text-[10px] md:text-xs text-center opacity-70 font-medium">
                  問いの発見
                </p>
                <span class="cycle-badge">01</span>
              </div>
            </div>

            <div class="cycle-arrow">→</div>

            <div class="flex flex-col items-center flex-1 min-w-0">
              <div class="cycle-card group">
                <div class="cycle-icon">&lt;/&gt;</div>
                <h3 class="text-lg font-bold mb-1 leading-none">実装</h3>
                <p class="text-[10px] md:text-xs text-center opacity-70 font-medium">
                  解の探索
                </p>
                <span class="cycle-badge">02</span>
              </div>
            </div>

            <div class="cycle-arrow">→</div>

            <div class="flex flex-col items-center flex-1 min-w-0">
              <div class="cycle-card group">
                <div class="cycle-icon">✓</div>
                <h3 class="text-lg font-bold mb-1 leading-none">検証</h3>
                <p class="text-[10px] md:text-xs text-center opacity-70 font-medium">
                  知の蓄積
                </p>
                <span class="cycle-badge">03</span>
              </div>
            </div>

            <div class="cycle-arrow">→</div>

            <div class="flex flex-col items-center flex-1 min-w-0">
              <div class="cycle-card group">
                <div class="cycle-icon">↺</div>
                <h3 class="text-lg font-bold mb-1 leading-none">共有</h3>
                <p class="text-[10px] md:text-xs text-center opacity-70 font-medium">
                  社会の更新
                </p>
                <span class="cycle-badge">04</span>
              </div>
            </div>
          </div>

          <div class="mt-4 relative h-14 w-full">
            <svg class="w-full h-full" viewBox="0 0 800 80" fill="none" preserveAspectRatio="none">
              <path
                d="M 700,0 L 700,30 Q 700,50 680,50 L 120,50 Q 100,50 100,30 L 100,10"
                stroke="currentColor"
                strokeWidth="1.5"
                strokeDasharray="6 4"
                class="text-gray-300"
              />
              <path d="M 96,15 L 100,5 L 104,15" fill="currentColor" class="text-gray-300" />
            </svg>

            <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
              <div class="bg-gray-50 px-4 py-2 border border-dashed border-gray-300 rounded-lg translate-y-2">
                <p class="text-xs font-bold text-gray-500 flex items-center gap-2">
                  <span class="inline-flex w-4 h-4 items-center justify-center text-gray-300 animate-spin-slow">↺</span>
                  <span class="text-gray-900">前提の変化による新たな問いの発生</span>
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="mb-10">
        <div class="grid grid-cols-2 gap-3">
          <a
            href="mailto:info@nexs.jp"
            class="flex items-center justify-center gap-2 rounded-xl border border-gray-200 bg-white py-3 text-xs font-bold text-gray-800 hover:border-gray-300 transition-colors"
          >
            お問い合わせ
          </a>
          <a
            href="#public-info"
            class="flex items-center justify-center gap-2 rounded-xl border border-gray-200 bg-white py-3 text-xs font-bold text-gray-800 hover:border-gray-300 transition-colors"
          >
            公開情報
          </a>
          <a
            href="#public-info"
            class="flex items-center justify-center gap-2 rounded-xl border border-gray-200 bg-white py-3 text-xs font-bold text-gray-800 hover:border-gray-300 transition-colors"
          >
            公開情報
          </a>
        </div>
      </section>

      <section class="mb-8">
        <h2 class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-3">News</h2>
        <div class="bg-gray-50 border border-gray-200 rounded-xl p-5">
          <p class="text-xs uppercase tracking-widest text-gray-400 mb-2">Member Call</p>
          <h3 class="text-lg font-bold text-gray-900 mb-2">一緒に実験を進める仲間を募集しています</h3>
          <p class="text-xs text-gray-600 leading-relaxed">
            AI時代の社会実装に関心のある研究者・開発者・編集者の参加を歓迎します。
          </p>
        </div>
      </section>

      <section class="mb-8">
        <h2 class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-3">News</h2>
        <div class="bg-gray-50 border border-gray-200 rounded-xl p-5">
          <p class="text-xs uppercase tracking-widest text-gray-400 mb-2">Member Call</p>
          <h3 class="text-lg font-bold text-gray-900 mb-2">一緒に実験を進める仲間を募集しています</h3>
          <p class="text-xs text-gray-600 leading-relaxed">
            AI時代の社会実装に関心のある研究者・開発者・編集者の参加を歓迎します。
          </p>
        </div>
      </section>

      <div class="space-y-6">
        <section class="bg-white rounded-xl border border-gray-100 p-5 shadow-sm">
          <h2 class="text-sm font-bold text-gray-900 mb-2">ミッション</h2>
          <p class="text-xs text-gray-600 leading-relaxed">
            「仮説・実証・還元」の循環を通じて、持続可能な社会のプロトタイプを提示する。
          </p>
        </section>

        <section class="bg-white rounded-xl border border-gray-100 p-5 shadow-sm">
          <h2 class="text-sm font-bold text-gray-900 mb-2">ビジョン</h2>
          <p class="text-xs text-gray-600 leading-relaxed">
            AI時代の公共性を再設計し、透明な社会実装を標準にする。
          </p>
        </section>

        <section>
          <h2 class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-3">Members</h2>
          <div class="grid grid-cols-3 gap-3">
            <div class="bg-white rounded-xl border border-gray-100 p-3 text-center">
              <div class="w-12 h-12 rounded-full bg-gray-100 mx-auto mb-2"></div>
              <p class="text-xs font-bold text-gray-900">山田 太郎</p>
              <p class="text-[10px] text-gray-500">Research Lead</p>
            </div>
            <div class="bg-white rounded-xl border border-gray-100 p-3 text-center">
              <div class="w-12 h-12 rounded-full bg-gray-100 mx-auto mb-2"></div>
              <p class="text-xs font-bold text-gray-900">佐藤 花子</p>
              <p class="text-[10px] text-gray-500">Design & Ops</p>
            </div>
            <div class="bg-white rounded-xl border border-gray-100 p-3 text-center">
              <div class="w-12 h-12 rounded-full bg-gray-100 mx-auto mb-2"></div>
              <p class="text-xs font-bold text-gray-900">高橋 玲</p>
              <p class="text-[10px] text-gray-500">Engineering</p>
            </div>
          </div>
        </section>

        <details class="group bg-white rounded-xl border border-gray-100 p-5 shadow-sm" id="public-info">
          <summary class="cursor-pointer list-none flex items-center justify-between">
            <span class="font-bold text-sm">公開情報</span>
            <span class="text-xs text-gray-400 group-open:rotate-180 transition-transform">⌃</span>
          </summary>
          <dl class="mt-3 space-y-3 text-xs text-gray-600">
            <div class="flex justify-between gap-4">
              <dt class="text-gray-400">団体名</dt>
              <dd class="font-medium text-gray-800">次世代社会デザイン研究機構</dd>
            </div>
            <div class="flex justify-between gap-4">
              <dt class="text-gray-400">設立</dt>
              <dd class="font-medium text-gray-800">2024</dd>
            </div>
            <div class="flex justify-between gap-4">
              <dt class="text-gray-400">ステータス</dt>
              <dd class="font-medium text-gray-800">NPO法人化準備中</dd>
            </div>
          </dl>
        </details>

        <div class="space-y-3">
          <a
            href="https://github.com/nexs-org/nexs-web"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center justify-between p-4 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors"
          >
            <span class="text-sm font-medium">GitHub Repository</span>
            <Icons.ExternalLink className="w-4 h-4 text-gray-400" />
          </a>
        </div>
      </div>
    </main>

    <BottomNav activeTab="about" client:load />
  </div>
</BaseLayout>

<style>
  .cycle-card {
    position: relative;
    width: 100%;
    padding: 1.25rem 1rem;
    border: 2px solid #111827;
    border-radius: 1.5rem;
    background-color: #ffffff;
    text-align: center;
    transition: all 200ms ease;
  }
  .cycle-flow {
    display: flex;
    align-items: stretch;
    gap: 0.75rem;
    flex-wrap: nowrap;
  }
  .cycle-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #111827;
    font-size: 1.25rem;
    font-weight: 700;
    flex: 0 0 auto;
  }
  .cycle-card:hover {
    background-color: #111827;
    color: #ffffff;
  }
  .cycle-icon {
    margin: 0 auto 0.75rem;
    width: 2.75rem;
    height: 2.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    background-color: #f3f4f6;
    font-size: 1.1rem;
    font-weight: 700;
    transition: background-color 200ms ease, color 200ms ease;
  }
  .cycle-card:hover .cycle-icon {
    background-color: #1f2937;
    color: #ffffff;
  }
  .cycle-badge {
    position: absolute;
    top: -0.75rem;
    left: -0.75rem;
    background-color: #ffffff;
    border: 2px solid #111827;
    color: #111827;
    font-size: 0.65rem;
    font-weight: 900;
    padding: 0.1rem 0.5rem;
    border-radius: 9999px;
  }
  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(-360deg);
    }
  }
  .animate-spin-slow {
    animation: spin-slow 8s linear infinite;
  }
</style>

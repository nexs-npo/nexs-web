# ========================================
# nexs - Environment Variables Template
# ========================================
# Copy this file to `.env` and fill in your actual values.
# NEVER commit the `.env` file to version control.
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your actual values
#   npm run dev

# ----------------------------------------
# Clerk (Authentication) — DISABLED BY DEFAULT
# ----------------------------------------
# Clerk handles user authentication and PII management
# as part of the Zero PII Strategy (see docs/01_PHILOSOPHY.md).
#
# Clerk is DISABLED when these keys are not set.
# To enable: uncomment and set your keys from https://dashboard.clerk.com
#
# How it works:
#   - astro.config.mjs checks for PUBLIC_CLERK_PUBLISHABLE_KEY
#   - If present → Clerk integration is loaded (auth UI, middleware, etc.)
#   - If absent  → Clerk is skipped, site runs without authentication
#
# PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_your_key_here
# CLERK_SECRET_KEY=sk_test_your_key_here

# ----------------------------------------
# Keystatic (CMS) — GitHub Storage
# ----------------------------------------
# Production deployment requires a GitHub App (NOT an OAuth App).
# Create one at: https://github.com/settings/apps/new
#   - GitHub App name: nexs-web-keystatic
#   - Homepage URL: https://nexs.or.jp
#   - Callback URL: https://nexs.or.jp/api/keystatic/github/oauth/callback
#   - Expire user authorization tokens: enabled (default)
#   - Webhook: Active unchecked
#   - Repository permissions > Contents: Read and write
#   - Install the App on the nexs-web repository after creation
#
# KEYSTATIC_GITHUB_CLIENT_ID=
# KEYSTATIC_GITHUB_CLIENT_SECRET=
# Secret for Keystatic API (generate with: openssl rand -hex 32)
# KEYSTATIC_SECRET=
# GitHub App slug (from https://github.com/settings/apps/<slug>)
# PUBLIC_KEYSTATIC_GITHUB_APP_SLUG=nexs-web-keystatic

# ----------------------------------------
# Supabase (Self-Hosted Database)
# ----------------------------------------
# Your self-hosted Supabase instance URL (via Cloudflare Tunnel)
PUBLIC_SUPABASE_URL=https://your-supabase-instance.yourdomain.com
# Anon key (safe to expose in frontend)
PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.ey...
# Service role key (KEEP SECRET - server-side only)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.ey...

# ----------------------------------------
# Site Configuration
# ----------------------------------------
PUBLIC_SITE_URL=https://nexs.jp
PUBLIC_SITE_NAME=nexs
PUBLIC_SITE_DESCRIPTION=次世代社会デザイン研究機構

# ----------------------------------------
# Feature Flags (Optional)
# ----------------------------------------
# Enable PWA features
PUBLIC_ENABLE_PWA=true
# Enable service worker for offline support
PUBLIC_ENABLE_OFFLINE=true
# Enable push notifications (future)
PUBLIC_ENABLE_PUSH_NOTIFICATIONS=false
